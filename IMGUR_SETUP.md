# Настройка Imgur для загрузки изображений

## Зачем нужен Imgur?

Render использует эфемерную файловую систему - все загруженные файлы удаляются при каждом деплое. Поэтому нужно использовать внешнее хранилище для изображений.

Imgur - это бесплатный хостинг изображений, работает везде (включая Беларусь).

## Шаги настройки

### 1. Регистрация на Imgur

1. Перейдите на https://imgur.com
2. Нажмите "Sign up" (можно через Google)
3. Подтвердите email

### 2. Создание приложения и получение Client ID

1. Перейдите на https://api.imgur.com/oauth2/addclient
2. Заполните форму:
   - **Application name**: IQOS Shop (или любое название)
   - **Authorization type**: выберите "OAuth 2 authorization without a callback URL"
   - **Email**: ваш email
   - **Description**: Image upload for IQOS shop
3. Нажмите "Submit"
4. Скопируйте **Client ID** (это строка типа `abc123def456`)

### 3. Добавление переменной окружения на Render

1. Зайдите на https://render.com
2. Откройте ваш backend сервис (iqos-backend)
3. Перейдите в "Environment" → "Environment Variables"
4. Добавьте новую переменную:

```
IMGUR_CLIENT_ID=ваш_client_id
```

5. Нажмите "Save Changes"
6. Render автоматически перезапустит сервис (подождите 2-3 минуты)

### 4. Проверка работы

1. Откройте админ панель через бота (`/admin`)
2. Перейдите в "Товары"
3. Нажмите "Добавить товар"
4. Попробуйте загрузить изображение
5. Если все настроено правильно, изображение загрузится в Imgur и вернется URL

## Альтернативные варианты (если не хотите настраивать Imgur)

Можете просто использовать прямые URL изображений:

1. **Загрузите изображение на Imgur вручную**:
   - Откройте https://imgur.com
   - Нажмите "New post"
   - Загрузите изображение
   - Скопируйте прямую ссылку (правой кнопкой → "Copy image address")
   - Вставьте в поле "URL изображения" при создании товара

2. **Используйте Telegram**:
   - Загрузите изображение в любой Telegram канал
   - Откройте изображение в браузере
   - Скопируйте URL

3. **Другие хостинги**:
   - https://postimages.org (бесплатно, без регистрации)
   - https://imgbb.com (бесплатно)
   - Google Drive (сделайте файл публичным)

## Текущее состояние

- ✅ Код интегрирован в бэкенд
- ✅ Используется httpx (уже установлен)
- ⏳ Нужно добавить IMGUR_CLIENT_ID на Render
- ⏳ После добавления переменной загрузка изображений будет работать

## Лимиты Imgur (бесплатный тариф)

- 50 загрузок в час
- 500 загрузок в день
- Размер файла до 20MB
- Для вашего магазина этого более чем достаточно!
